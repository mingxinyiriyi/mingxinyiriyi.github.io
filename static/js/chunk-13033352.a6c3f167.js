(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13033352"],{"0bb4":function(t,e,n){},"11e9":function(t,e,n){var a=n("52a7"),r=n("4630"),o=n("6821"),i=n("6a99"),s=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=o(t),e=i(e,!0),c)try{return l(t,e)}catch(n){}if(s(t,e))return r(!a.f.call(t,e),t[e])}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"456d":function(t,e,n){var a=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(t){return r(a(t))}}))},"50c9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"heardDiv"},[t._v("今日菜单")]),t._v(" "),t._l(t.tableData,(function(e,a){return n("el-row",{key:e.id,attrs:{gutter:20}},[n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple marginManage"},[n("img",{staticClass:"imgManage",attrs:{src:t.baseApi+"/file/图片/"+e.url}})])]),t._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple shopName "},[t._v(t._s(e.shopName))]),t._v(" "),n("div",{staticClass:"money"},[n("span",[t._v("¥"+t._s(e.money))]),t._v(" "),n("div",{staticClass:"grid-content bg-purple removeout"},[n("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"20px"},on:{click:function(e){return t.changeAorMini(a,-1)}}},[t._v(" "+t._s(e.saleNob))]),t._v("   "),n("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px"},on:{click:function(e){return t.changeAorMini(a,1)}}})])])])],1)})),t._v(" "),n("div",{staticClass:" bottomDiv"},[n("span",{staticStyle:{"font-size":"18px","margin-left":"10px","font-weight":"bolder",color:"white"}},[t._v("合计:¥"+t._s(t.totalMoney))]),t._v(" "),n("span",{staticClass:"elbutton",on:{click:function(e){t.drawer=!0}}},[t._v("订单预览 ")])]),t._v(" "),n("el-drawer",{attrs:{title:"我的订单 预览",size:"100%",visible:t.drawer,direction:t.direction},on:{"update:visible":function(e){t.drawer=e}}},[n("div",{ref:"content",staticClass:"content",attrs:{id:"content"}},[t._l(t.checklist,(function(e,a){return n("el-row",{key:e.id,attrs:{gutter:20}},[n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content"},[n("img",{staticClass:"imgConter",attrs:{src:t.baseApi+"/file/图片/"+e.url}})])]),t._v(" "),n("el-col",{attrs:{span:13}},[n("div",{staticClass:"grid-content bg-purple nameConter "},[t._v(t._s(e.shopName)+"\r\n         "),n("span",{staticClass:"moneyConter"},[t._v("¥"+t._s(e.saleMoney))])]),t._v(" "),n("div",{staticClass:"grid-content bg-purple nobConter"},[t._v(" ×"+t._s(e.saleNob))])])],1)})),t._v(" "),n("div",{staticClass:"totalConter"},[t._v("¥"+t._s(t.totalMoney)+"\r\n     "),n("span",{staticClass:"buttonBoss",on:{click:t.getCopy}},[t._v("复制给老板")])])],2),t._v(" "),n("textarea",{attrs:{id:"input"}},[t._v("这是幕后黑手")])])],2)},r=[];n("8e6e"),n("ac6a"),n("456d"),n("c5f6");function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n("2f62"),s=(n("6b54"),n("bc3a")),c=n.n(s),l=n("ddb9"),u=n("5c96"),f=n("4360"),p=n("83d6"),b=n.n(p),d=n("a78e"),h=n.n(d),v=c.a.create({baseURL:"http://misxu.com:8000",timeout:b.a.timeout});v.interceptors.response.use((function(t){return t.data}),(function(t){if(t.response.data instanceof Blob&&-1!==t.response.data.type.toLowerCase().indexOf("json")){var e=new FileReader;e.readAsText(t.response.data,"utf-8"),e.onload=function(t){var n=JSON.parse(e.result).message;u["Notification"].error({title:n,duration:5e3})}}else{var n=0;try{n=t.response.data.status}catch(r){if(-1!==t.toString().indexOf("Error: timeout"))return u["Notification"].error({title:"网络请求超时",duration:5e3}),Promise.reject(t)}if(n)if(401===n)f["a"].dispatch("LogOut").then((function(){h.a.set("point",401),location.reload()}));else if(403===n)l["a"].push({path:"/401"});else{var a=t.response.data.message;void 0!==a&&u["Notification"].error({title:a,duration:5e3})}else u["Notification"].error({title:"接口请求失败",duration:5e3})}return Promise.reject(t)}));var g=v;function y(t){return g({url:"api/goods/queryMenu/"+t,method:"get"})}function m(){var t=window.location.href,e=t.lastIndexOf("/"),n=t.substring(e+1,t.length);return n}function _(t){return g({url:"api/goods/orderMenu",method:"post",data:t})}function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={data:function(){return{tableData:[],totalMoney:0,drawer:!1,direction:"btt",checklist:[],imgUrl:null}},computed:O({},Object(i["b"])(["baseApi"])),mounted:function(){this.getMenu()},methods:{changeAorMini:function(t,e){1==e?(this.tableData[t].saleNob++,this.totalMoney+=Number(this.tableData[t].money),this.tableData[t].saleMoney=this.tableData[t].saleNob*Number(this.tableData[t].money)):this.tableData[t].saleNob<=1?(this.totalMoney-=Number(this.tableData[t].money)*this.tableData[t].saleNob,this.tableData[t].saleNob=0,this.tableData[t].saleMoney=this.tableData[t].saleNob*Number(this.tableData[t].money)):(this.tableData[t].saleNob--,this.totalMoney-=Number(this.tableData[t].money),this.tableData[t].saleMoney=this.tableData[t].saleNob*Number(this.tableData[t].money)),this.checklist=[];for(var n=0;n<this.tableData.length;n++)this.tableData[n].saleNob>0&&this.checklist.push(this.tableData[n])},getCopy:function(){for(var t="",e=0;e<this.checklist.length;e++)t+=this.checklist[e].shopName+this.checklist[e].saleNob+"份"+this.checklist[e].saleMoney+"元\n";t+="总价:"+this.totalMoney+"元";var n=document.getElementById("input");n.value=t,n.select(),document.execCommand("copy"),n.blur(),this.$message({message:"复制成功",type:"success"});var a={money:this.totalMoney,detail:t,deptId:m(),address:""};_(a).then((function(t){})).catch((function(t){}))},getMenu:function(){var t=this;y(m()).then((function(e){t.tableData=e;for(var n=0;n<e.length;n++)t.tableData[n].saleNob=0})).catch((function(t){}))}}},C=w,D=(n("944a"),n("2877")),x=Object(D["a"])(C,a,r,!1,null,null,null);e["default"]=x.exports},"5dbc":function(t,e,n){var a=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var o,i=e.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&a(o)&&r&&r(t,o),t}},"5eda":function(t,e,n){var a=n("5ca1"),r=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],i={};i[t]=e(n),a(a.S+a.F*o((function(){n(1)})),"Object",i)}},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),r=n("0bfb"),o=n("9e1e"),i="toString",s=/./[i],c=function(t){n("2aba")(RegExp.prototype,i,t,!0)};n("79e5")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):s.name!=i&&c((function(){return s.call(this)}))},"83d6":function(t,e){t.exports={title:"点餐系统",tagsView:!0,fixedHeader:!0,tokenCookieExpires:1,passCookieExpires:1,uniqueOpened:!0,TokenKey:"EL-ADMIN-TOEKN",timeout:12e5,sidebarLogo:!0,showFooter:!0,footerTxt:'© 2019 Zheng Jie <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License 2.0</a>',caseNumber:"浙ICP备18005431号"}},"8b97":function(t,e,n){var a=n("d3f4"),r=n("cb7c"),o=function(t,e){if(r(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:o}},"8e6e":function(t,e,n){var a=n("5ca1"),r=n("990b"),o=n("6821"),i=n("11e9"),s=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=o(t),c=i.f,l=r(a),u={},f=0;while(l.length>f)n=c(a,e=l[f++]),void 0!==n&&s(u,e,n);return u}})},9093:function(t,e,n){var a=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},"944a":function(t,e,n){"use strict";n("0bb4")},"990b":function(t,e,n){var a=n("9093"),r=n("2621"),o=n("cb7c"),i=n("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=a.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},aa77:function(t,e,n){var a=n("5ca1"),r=n("be13"),o=n("79e5"),i=n("fdef"),s="["+i+"]",c="​",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),f=function(t,e,n){var r={},s=o((function(){return!!i[t]()||c[t]()!=c})),l=r[t]=s?e(p):i[t];n&&(r[n]=l),a(a.P+a.F*s,"String",r)},p=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},c5f6:function(t,e,n){"use strict";var a=n("7726"),r=n("69a8"),o=n("2d95"),i=n("5dbc"),s=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,f=n("86cc").f,p=n("aa77").trim,b="Number",d=a[b],h=d,v=d.prototype,g=o(n("2aeb")(v))==b,y="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():p(e,3);var n,a,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+e}for(var i,c=e.slice(2),l=0,u=c.length;l<u;l++)if(i=c.charCodeAt(l),i<48||i>r)return NaN;return parseInt(c,a)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(g?c((function(){v.valueOf.call(n)})):o(n)!=b)?i(new h(m(e)),n,d):m(e)};for(var _,N=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;N.length>O;O++)r(h,_=N[O])&&!r(d,_)&&f(d,_,u(h,_));d.prototype=v,v.constructor=d,n("2aba")(a,b,d)}},f1ae:function(t,e,n){"use strict";var a=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?a.f(t,e,r(0,n)):t[e]=n}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);