(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50339d0f"],{"0bb4":function(t,e,n){},4875:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var r=n("b775");function o(t){return Object(r["a"])({url:"api/goods/queryMenu/"+t,method:"get"})}function i(){var t=window.location.href,e=t.lastIndexOf("/"),n=t.substring(e+1,t.length);return n}function a(t){return Object(r["a"])({url:"api/goods/orderMenu",method:"post",data:t})}},"50c9":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"heardDiv"},[t._v("今日菜单")]),t._v(" "),t._l(t.tableData,(function(e,r){return n("el-row",{key:e.id,attrs:{gutter:20}},[n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple marginManage"},[n("img",{staticClass:"imgManage",attrs:{src:t.baseApi+"/file/图片/"+e.url}})])]),t._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple shopName "},[t._v(t._s(e.shopName))]),t._v(" "),n("div",{staticClass:"money"},[n("span",[t._v("¥"+t._s(e.money))]),t._v(" "),n("div",{staticClass:"grid-content bg-purple removeout"},[n("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"20px"},on:{click:function(e){return t.changeAorMini(r,-1)}}},[t._v(" "+t._s(e.saleNob))]),t._v("   "),n("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px"},on:{click:function(e){return t.changeAorMini(r,1)}}})])])])],1)})),t._v(" "),n("div",{staticClass:" bottomDiv"},[n("span",{staticStyle:{"font-size":"18px","margin-left":"10px","font-weight":"bolder",color:"white"}},[t._v("合计:¥"+t._s(t.totalMoney))]),t._v(" "),n("span",{staticClass:"elbutton",on:{click:function(e){t.drawer=!0}}},[t._v("订单预览 ")])]),t._v(" "),n("el-drawer",{attrs:{title:"我的订单 预览",size:"100%",visible:t.drawer,direction:t.direction},on:{"update:visible":function(e){t.drawer=e}}},[n("div",{ref:"content",staticClass:"content",attrs:{id:"content"}},[t._l(t.checklist,(function(e,r){return n("el-row",{key:e.id,attrs:{gutter:20}},[n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content"},[n("img",{staticClass:"imgConter",attrs:{src:t.baseApi+"/file/图片/"+e.url}})])]),t._v(" "),n("el-col",{attrs:{span:13}},[n("div",{staticClass:"grid-content bg-purple nameConter "},[t._v(t._s(e.shopName)+"\r\n         "),n("span",{staticClass:"moneyConter"},[t._v("¥"+t._s(e.saleMoney))])]),t._v(" "),n("div",{staticClass:"grid-content bg-purple nobConter"},[t._v(" ×"+t._s(e.saleNob))])])],1)})),t._v(" "),n("div",{staticClass:"totalConter"},[t._v("¥"+t._s(t.totalMoney)+"\r\n     "),n("span",{staticClass:"buttonBoss",on:{click:t.getCopy}},[t._v("复制给老板")])])],2),t._v(" "),n("textarea",{attrs:{id:"input"}},[t._v("这是幕后黑手")])])],2)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("c5f6"),n("ade3")),a=n("70b0"),c=n.n(a),s=n("2f62"),u=n("4875");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={data:function(){return{tableData:[],totalMoney:0,drawer:!1,direction:"btt",checklist:[],imgUrl:null}},computed:f({},Object(s["b"])(["baseApi"])),mounted:function(){this.getMenu()},methods:{changeAorMini:function(t,e){1==e?(this.tableData[t].saleNob++,this.totalMoney+=Number(this.tableData[t].money),this.tableData[t].saleMoney=this.tableData[t].saleNob*Number(this.tableData[t].money)):this.tableData[t].saleNob<=1?(this.totalMoney-=Number(this.tableData[t].money)*this.tableData[t].saleNob,this.tableData[t].saleNob=0,this.tableData[t].saleMoney=this.tableData[t].saleNob*Number(this.tableData[t].money)):(this.tableData[t].saleNob--,this.totalMoney-=Number(this.tableData[t].money),this.tableData[t].saleMoney=this.tableData[t].saleNob*Number(this.tableData[t].money)),this.checklist=[];for(var n=0;n<this.tableData.length;n++)this.tableData[n].saleNob>0&&this.checklist.push(this.tableData[n])},getPrintScreen:function(){var t=document.getElementById("content");c.a.toPng(t).then((function(t){var e=new Image;e.src=t,document.getElementById("content").appendChild(e)})).catch((function(t){}))},getCopy:function(){for(var t="",e=0;e<this.checklist.length;e++)t+=this.checklist[e].shopName+this.checklist[e].saleNob+"份"+this.checklist[e].saleMoney+"元\n";t+="总价:"+this.totalMoney+"元";var n=document.getElementById("input");n.value=t,n.select(),document.execCommand("copy"),n.blur(),this.$message({message:"复制成功",type:"success"});var r={money:this.totalMoney,detail:t,deptId:Object(u["c"])(),address:""};Object(u["a"])(r).then((function(t){})).catch((function(t){}))},getMenu:function(){var t=this;Object(u["b"])(Object(u["c"])()).then((function(e){t.tableData=e;for(var n=0;n<e.length;n++)t.tableData[n].saleNob=0})).catch((function(t){}))}}},d=h,p=(n("944a"),n("2877")),m=Object(p["a"])(d,r,o,!1,null,null,null);e["default"]=m.exports},"70b0":function(t,e,n){(function(e){"use strict";var n=y(),r=w(),o=P(),i=C(),a={imagePlaceholder:void 0,cacheBust:!1},c={toSvg:s,toPng:l,toJpeg:f,toBlob:h,toPixelData:u,impl:{fontFaces:o,images:i,util:n,inliner:r,options:{}}};function s(t,e){return e=e||{},d(e),Promise.resolve(t).then((function(t){return m(t,e.filter,!0)})).then(g).then(v).then(r).then((function(r){return b(r,e.width||n.width(t),e.height||n.height(t))}));function r(t){return e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach((function(n){t.style[n]=e.style[n]})),t}}function u(t,e){return p(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,n.width(t),n.height(t)).data}))}function l(t,e){return p(t,e||{}).then((function(t){return t.toDataURL()}))}function f(t,e){return e=e||{},p(t,e).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))}function h(t,e){return p(t,e||{}).then(n.canvasToBlob)}function d(t){"undefined"===typeof t.imagePlaceholder?c.impl.options.imagePlaceholder=a.imagePlaceholder:c.impl.options.imagePlaceholder=t.imagePlaceholder,"undefined"===typeof t.cacheBust?c.impl.options.cacheBust=a.cacheBust:c.impl.options.cacheBust=t.cacheBust}function p(t,e){return s(t,e).then(n.makeImage).then(n.delay(100)).then((function(e){var n=r(t);return n.getContext("2d").drawImage(e,0,0),n}));function r(t){var r=document.createElement("canvas");if(r.width=e.width||n.width(t),r.height=e.height||n.height(t),e.bgcolor){var o=r.getContext("2d");o.fillStyle=e.bgcolor,o.fillRect(0,0,r.width,r.height)}return r}}function m(t,e,r){return r||!e||e(t)?Promise.resolve(t).then(o).then((function(n){return i(t,n,e)})).then((function(e){return a(t,e)})):Promise.resolve();function o(t){return t instanceof HTMLCanvasElement?n.makeImage(t.toDataURL()):t.cloneNode(!1)}function i(t,e,r){var o=t.childNodes;return 0===o.length?Promise.resolve(e):i(e,n.asArray(o),r).then((function(){return e}));function i(t,e,n){var r=Promise.resolve();return e.forEach((function(e){r=r.then((function(){return m(e,n)})).then((function(e){e&&t.appendChild(e)}))})),r}}function a(t,e){return e instanceof Element?Promise.resolve().then(r).then(o).then(i).then(a).then((function(){return e})):e;function r(){function r(t,e){function r(t,e){n.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}t.cssText?e.cssText=t.cssText:r(t,e)}r(window.getComputedStyle(t),e.style)}function o(){function r(r){var o=window.getComputedStyle(t,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var a=n.uid();e.className=e.className+" "+a;var c=document.createElement("style");c.appendChild(s(a,r,o)),e.appendChild(c)}function s(t,e,r){var o="."+t+":"+e,i=r.cssText?a(r):c(r);return document.createTextNode(o+"{"+i+"}");function a(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}function c(t){return n.asArray(t).map(e).join("; ")+";";function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}}}}[":before",":after"].forEach((function(t){r(t)}))}function i(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function a(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))}}}function g(t){return o.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function v(t){return i.inlineAll(t).then((function(){return t}))}function b(t,e,r){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(n.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+r+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}function y(){return{escape:h,parseExtension:e,mimeType:n,dataAsUrl:f,isDataUrl:r,canvasToBlob:i,resolveUrl:a,getAndEncode:l,uid:s(),delay:d,asArray:p,escapeXhtml:m,makeImage:u,width:g,height:v};function t(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function n(n){var r=e(n).toLowerCase();return t()[r]||""}function r(t){return-1!==t.search(/^(data:)/)}function o(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);e(new Blob([o],{type:"image/png"}))}))}function i(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):o(t)}function a(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=e,o.href=t,o.href}function s(){var t=0;return function(){return"u"+e()+t++;function e(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function u(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src=t}))}function l(t){var e=3e4;return c.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise((function(n){var r,o=new XMLHttpRequest;if(o.onreadystatechange=a,o.ontimeout=s,o.responseType="blob",o.timeout=e,o.open("GET",t,!0),o.send(),c.impl.options.imagePlaceholder){var i=c.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(r=i[1])}function a(){if(4===o.readyState)if(200===o.status){var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(o.response)}else r?n(r):u("cannot fetch resource: "+t+", status: "+o.status)}function s(){r?n(r):u("timeout of "+e+"ms occured while fetching resource: "+t)}function u(t){console.error(t),n("")}}))}function f(t,e){return"data:"+e+";base64,"+t}function h(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function d(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}}function p(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}function m(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}function g(t){var e=b(t,"border-left-width"),n=b(t,"border-right-width");return t.scrollWidth+e+n}function v(t){var e=b(t,"border-top-width"),n=b(t,"border-bottom-width");return t.scrollHeight+e+n}function b(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}function w(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:i,shouldProcess:e,impl:{readUrls:r,inline:o}};function e(e){return-1!==e.search(t)}function r(e){var r,o=[];while(null!==(r=t.exec(e)))o.push(r[1]);return o.filter((function(t){return!n.isDataUrl(t)}))}function o(t,e,r,o){return Promise.resolve(e).then((function(t){return r?n.resolveUrl(t,r):t})).then(o||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e))})).then((function(n){return t.replace(i(e),"$1"+n+"$3")}));function i(t){return new RegExp("(url\\(['\"]?)("+n.escape(t)+")(['\"]?\\))","g")}}function i(t,n,i){return a()?Promise.resolve(t):Promise.resolve(t).then(r).then((function(e){var r=Promise.resolve(t);return e.forEach((function(t){r=r.then((function(e){return o(e,t,n,i)}))})),r}));function a(){return!e(t)}}}function P(){return{resolveAll:t,impl:{readAll:e}};function t(){return e(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))}function e(){return Promise.resolve(n.asArray(document.styleSheets)).then(e).then(t).then((function(t){return t.map(o)}));function t(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return r.shouldProcess(t.style.getPropertyValue("src"))}))}function e(t){var e=[];return t.forEach((function(t){try{n.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(r){console.log("Error while reading CSS rules from "+t.href,r.toString())}})),e}function o(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}function C(){return{inlineAll:e,impl:{newImage:t}};function t(t){return{inline:e};function e(e){return n.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t.src))})).then((function(e){return new Promise((function(n,r){t.onload=n,t.onerror=r,t.src=e}))}))}}function e(o){return o instanceof Element?i(o).then((function(){return o instanceof HTMLImageElement?t(o).inline():Promise.all(n.asArray(o.childNodes).map((function(t){return e(t)})))})):Promise.resolve(o);function i(t){var e=t.style.getPropertyValue("background");return e?r.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}}}t.exports=c})()},"944a":function(t,e,n){"use strict";n("0bb4")}}]);